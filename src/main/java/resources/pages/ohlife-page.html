<html>
<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>

<script>
	$(function() {
		$('#submit').click(function() {
			var order = {
				date : $('#date').val(),
				content : $('#content').val()
			};
			$.ajax({
				type : 'POST',
				url : 'journal',
				data : JSON.stringify(order),
				contentType : 'application/json',
				dataType : 'json',
				success : function(data) {
					alert(JSON.stringify(data));
				},
				error : function() {
					alert('error');
				}
			});
		});
		
		$('#list').click(function() {
			$.ajax({
				type : 'GET',
				url : 'journals',
				dataType : 'json',
				success : function(data) {
					listJournals(data);
				},
				error : function() {
					alert('error');
				}
			});
		});
		
		function listJournals(data) {
			var items = data['items'];
			$('#journals').empty();
			$('#journals').append('<h1>Journals</h1>');
			for (var i = 0; i < items.length; ++i) {
				$('#journals').append('<h2>' + items[i]['date']['s'] + ' ' + items[i]['day-of-week']['s'] + '</h2>');
				$('#journals').append('<p>' + items[i]['content']['s'] + '</p>');
			}
		}
	});
</script>

<body>
	<p id="result"></p>
	<p>
		Date:<input type="text" id="date">
	</p>
	<p>
		Content:<input type="text" id="content">
	</p>
	<button id="submit">Submit</button>
	<button id="list">List Journals</button>
	
	<div id='journals'>
	</div>

</body>
</html>